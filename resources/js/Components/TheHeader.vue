<script setup>
import { useForm, usePage } from '@inertiajs/inertia-vue3';
import LocaleSwicher from './selects/LocaleSwicher.vue';

const form = useForm();

</script>

<template>
  <header
    id="header"
    class="d-flex justify-content-end py-3 bg-white shadow-sm"
  >
    <nav class="nav">
      <button
        id="logs-btn"
        class="btn text-primary"
        data-bs-toggle="modal"
        data-bs-target="#logsModal"
      >
        <span class="bi bi-grid"></span>
        <span class="font-weight-bold">{{ $t('messages.Просмотр изменений') }}</span>
      </button>
      <LocaleSwicher />

      <a class="btn text-primary" :href="route('map')">
        <svg
          width="18"
          height="18"
          viewBox="0 0 18 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M9.0001 1.19998H9.5001C9.5001 1.01059 9.3931 0.837458 9.2237 0.752762L9.0001 1.19998ZM9.0001 2.39998L9.2237 2.84719C9.3931 2.76249 9.5001 2.58936 9.5001 2.39998H9.0001ZM7.8001 2.99998L7.57649 2.55276C7.41707 2.63247 7.31214 2.79102 7.30106 2.96891C7.28999 3.1468 7.37445 3.31713 7.52275 3.416L7.8001 2.99998ZM9.6001 4.19998L9.32275 4.616C9.40488 4.67076 9.50138 4.69998 9.6001 4.69998V4.19998ZM10.2001 4.19998V4.69998C10.4762 4.69998 10.7001 4.47612 10.7001 4.19998H10.2001ZM10.2001 2.99998V2.49998C9.92395 2.49998 9.7001 2.72383 9.7001 2.99998H10.2001ZM12.0001 2.99998H12.5001C12.5001 2.72383 12.2762 2.49998 12.0001 2.49998V2.99998ZM12.0001 4.19998H11.5001C11.5001 4.33258 11.5528 4.45976 11.6465 4.55353L12.0001 4.19998ZM12.6001 4.79998H13.1001C13.1001 4.66737 13.0474 4.54019 12.9537 4.44642L12.6001 4.79998ZM12.6001 5.99998L12.9537 6.35353C13.0474 6.25976 13.1001 6.13258 13.1001 5.99998H12.6001ZM12.0001 6.59998V7.09998C12.1327 7.09998 12.2599 7.0473 12.3537 6.95353L12.0001 6.59998ZM10.8001 6.59998L10.5765 7.04719C10.6459 7.0819 10.7225 7.09998 10.8001 7.09998V6.59998ZM8.4001 5.39998L8.6237 4.95276C8.48294 4.88238 8.31725 4.88238 8.17649 4.95276L8.4001 5.39998ZM7.2001 5.99998V6.49998C7.27772 6.49998 7.35428 6.4819 7.4237 6.44719L7.2001 5.99998ZM5.4001 5.99998V5.49998C5.17066 5.49998 4.97067 5.65612 4.91503 5.87871L5.4001 5.99998ZM4.8001 8.39998L4.31503 8.27871C4.27243 8.44909 4.32235 8.62934 4.44654 8.75353L4.8001 8.39998ZM6.6001 10.2L6.24654 10.5535C6.28454 10.5915 6.32842 10.6232 6.37649 10.6472L6.6001 10.2ZM7.8001 10.8H8.3001C8.3001 10.6106 8.1931 10.4375 8.0237 10.3528L7.8001 10.8ZM7.8001 12.6H7.3001C7.3001 12.7326 7.35278 12.8598 7.44654 12.9535L7.8001 12.6ZM8.4001 13.2H8.9001C8.9001 13.0674 8.84742 12.9402 8.75365 12.8464L8.4001 13.2ZM8.4001 14.4H7.9001C7.9001 14.4776 7.91817 14.5542 7.95288 14.6236L8.4001 14.4ZM9.0001 15.6L8.55288 15.8236C8.63758 15.993 8.81071 16.1 9.0001 16.1V15.6ZM10.2001 15.6V16.1C10.3673 16.1 10.5234 16.0164 10.6161 15.8773L10.2001 15.6ZM11.4001 13.8L11.8161 14.0773C11.8276 14.0601 11.838 14.0421 11.8473 14.0236L11.4001 13.8ZM12.0001 12.6L12.4473 12.8236C12.482 12.7542 12.5001 12.6776 12.5001 12.6H12.0001ZM12.0001 11.4L11.6001 11.1C11.5352 11.1865 11.5001 11.2918 11.5001 11.4H12.0001ZM13.8001 8.99998L14.2001 9.29998C14.3137 9.14847 14.332 8.94576 14.2473 8.77637L13.8001 8.99998ZM13.2001 7.79998V7.29998C13.0268 7.29998 12.8659 7.3897 12.7748 7.53711C12.6837 7.68452 12.6754 7.86859 12.7529 8.02358L13.2001 7.79998ZM15.0001 7.79998V8.29998C15.2762 8.29998 15.5001 8.07612 15.5001 7.79998H15.0001ZM15.0001 6.59998V6.09998C14.724 6.09998 14.5001 6.32383 14.5001 6.59998H15.0001ZM9.0001 16.9C4.63705 16.9 1.1001 13.363 1.1001 8.99998H0.100098C0.100098 13.9153 4.08476 17.9 9.0001 17.9V16.9ZM16.9001 8.99998C16.9001 13.363 13.3631 16.9 9.0001 16.9V17.9C13.9154 17.9 17.9001 13.9153 17.9001 8.99998H16.9001ZM9.0001 1.09998C13.3631 1.09998 16.9001 4.63693 16.9001 8.99998H17.9001C17.9001 4.08464 13.9154 0.0999756 9.0001 0.0999756V1.09998ZM9.0001 0.0999756C4.08476 0.0999756 0.100098 4.08464 0.100098 8.99998H1.1001C1.1001 4.63693 4.63705 1.09998 9.0001 1.09998V0.0999756ZM7.57649 1.04719L8.77649 1.64719L9.2237 0.752762L8.0237 0.152762L7.57649 1.04719ZM8.5001 1.19998V2.39998H9.5001V1.19998H8.5001ZM8.77649 1.95276L7.57649 2.55276L8.0237 3.44719L9.2237 2.84719L8.77649 1.95276ZM7.52275 3.416L9.32275 4.616L9.87745 3.78395L8.07745 2.58395L7.52275 3.416ZM9.6001 4.69998H10.2001V3.69998H9.6001V4.69998ZM10.7001 4.19998V2.99998H9.7001V4.19998H10.7001ZM10.2001 3.49998H12.0001V2.49998H10.2001V3.49998ZM11.5001 2.99998V4.19998H12.5001V2.99998H11.5001ZM11.6465 4.55353L12.2465 5.15353L12.9537 4.44642L12.3537 3.84642L11.6465 4.55353ZM12.1001 4.79998V5.99998H13.1001V4.79998H12.1001ZM12.2465 5.64642L11.6465 6.24642L12.3537 6.95353L12.9537 6.35353L12.2465 5.64642ZM12.0001 6.09998H10.8001V7.09998H12.0001V6.09998ZM11.0237 6.15276L8.6237 4.95276L8.17649 5.84719L10.5765 7.04719L11.0237 6.15276ZM8.17649 4.95276L6.97649 5.55276L7.4237 6.44719L8.6237 5.84719L8.17649 4.95276ZM7.2001 5.49998H5.4001V6.49998H7.2001V5.49998ZM4.91503 5.87871L4.31503 8.27871L5.28517 8.52124L5.88517 6.12124L4.91503 5.87871ZM4.44654 8.75353L6.24654 10.5535L6.95365 9.84642L5.15365 8.04642L4.44654 8.75353ZM6.37649 10.6472L7.57649 11.2472L8.0237 10.3528L6.8237 9.75276L6.37649 10.6472ZM7.3001 10.8V12.6H8.3001V10.8H7.3001ZM7.44654 12.9535L8.04654 13.5535L8.75365 12.8464L8.15365 12.2464L7.44654 12.9535ZM7.9001 13.2V14.4H8.9001V13.2H7.9001ZM7.95288 14.6236L8.55288 15.8236L9.44731 15.3764L8.84731 14.1764L7.95288 14.6236ZM9.0001 16.1H10.2001V15.1H9.0001V16.1ZM10.6161 15.8773L11.8161 14.0773L10.9841 13.5226L9.78407 15.3226L10.6161 15.8773ZM11.8473 14.0236L12.4473 12.8236L11.5529 12.3764L10.9529 13.5764L11.8473 14.0236ZM12.5001 12.6V11.4H11.5001V12.6H12.5001ZM12.4001 11.7L14.2001 9.29998L13.4001 8.69998L11.6001 11.1L12.4001 11.7ZM14.2473 8.77637L13.6473 7.57637L12.7529 8.02358L13.3529 9.22358L14.2473 8.77637ZM13.2001 8.29998H15.0001V7.29998H13.2001V8.29998ZM15.5001 7.79998V6.59998H14.5001V7.79998H15.5001ZM15.0001 7.09998H17.4001V6.09998H15.0001V7.09998Z"
            fill="#003CFF"
          />
        </svg>
      </a>
      <a class="btn text-primary pt-2" :href="route('media2.mediagallery')">
        <i class="bi bi-map" style="font-size: 1rem;"></i>
      </a>
      <template
        v-if="$page.props.auth.user.roles?.some(role => role.name === 'Administrator')"
      >
        <a class="btn text-primary" :href="route('admin.index')">
          <svg
            width="18"
            height="18"
            viewBox="0 0 18 18"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M7.1329 0.599976L7.0297 1.12402L6.63491 3.04158C6.00371 3.28262 5.4313 3.62442 4.9141 4.02976L2.9845 3.38457L2.46611 3.22388L2.19731 3.68677L0.868896 5.90769L0.600098 6.37065L0.993701 6.71482L2.48651 7.98477C2.43251 8.31695 2.36291 8.64551 2.36291 8.99448C2.36291 9.34345 2.43251 9.67209 2.48651 10.0043L0.993701 11.2742L0.600098 11.6184L0.868896 12.0813L2.19731 14.3023L2.46611 14.7663L2.9845 14.6045L4.9141 13.9593C5.4313 14.3646 6.00371 14.7063 6.63491 14.9474L7.0297 16.8649L7.1329 17.3891H10.8661L10.9705 16.8649L11.3641 14.9474C11.9953 14.7063 12.5677 14.3646 13.0849 13.9593L15.0145 14.6045L15.5329 14.7663L15.8029 14.3023L17.1301 12.0813L17.4001 11.6184L17.0053 11.2742L15.5125 10.0043C15.5677 9.67209 15.6361 9.34345 15.6361 8.99448C15.6361 8.64551 15.5677 8.31695 15.5125 7.98477L17.0053 6.71482L17.4001 6.37065L17.1301 5.90769L15.8029 3.68677L15.5329 3.22388L15.0145 3.38457L13.0849 4.02976C12.5677 3.62442 11.9953 3.28262 11.3641 3.04158L10.9705 1.12402L10.8661 0.599976H7.1329Z"
              stroke="#003CFF"
              stroke-linecap="square"
              stroke-linejoin="round"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M11.3997 8.99448C11.3997 10.3184 10.3245 11.3929 8.99966 11.3929C7.67486 11.3929 6.59966 10.3184 6.59966 8.99448C6.59966 7.67055 7.67486 6.59609 8.99966 6.59609C10.3245 6.59609 11.3997 7.67055 11.3997 8.99448Z"
              stroke="#003CFF"
              stroke-linecap="square"
              stroke-linejoin="round"
            />
          </svg>
        </a>
      </template>
      <button
        class="btn dropdown-toggle text-primary"
        type="button"
        id="dropdownMenuButton"
        data-bs-toggle="dropdown"
        aria-haspopup="true"
        aria-expanded="false"
      >
        <i class="bi bi-person" style="font-size: 1.2rem;"></i>
      </button>
      <div
        class="dropdown-menu dropdown-menu-right"
        aria-labelledby="dropdownMenuButton"
      >
        <p class="dropdown-item font-weight-bold">
          {{ $page.props.auth.user.firstname }}
          {{ $page.props.auth.user.lastname }}
        </p>
        <p class="dropdown-item">{{ $page.props.auth.user.email }}</p>
        <form @submit.prevent="form.post('/logout')">
          <button class="dropdown-item">
            <i class="bi bi-box-arrow-left"></i>
            {{ $t("messages.Выход") }}
          </button>
        </form>
      </div>
    </nav>
  </header>
</template>

